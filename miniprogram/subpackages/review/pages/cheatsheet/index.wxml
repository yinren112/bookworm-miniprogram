<!-- subpackages/review/pages/cheatsheet/index.wxml -->
<!-- æ€¥æ•‘åŒ…é¡µé¢ -->

<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header" wx:if="{{!loading}}">
    <text class="page-title">æ€¥æ•‘åŒ…</text>
    <text class="page-subtitle">è€ƒå‰é€ŸæŸ¥ï¼Œå¿«é€Ÿå›é¡¾é‡ç‚¹</text>
  </view>

  <!-- èµ„æºåˆ—è¡¨ -->
  <view class="cheatsheet-list" wx:if="{{!loading && cheatSheets.length > 0}}">
    <view
      class="cheatsheet-item clay-card"
      wx:for="{{cheatSheets}}"
      wx:key="id"
      bindtap="previewCheatSheet"
      data-index="{{index}}"
    >
      <!-- å›¾æ ‡åŒºåŸŸ -->
      <view class="item-icon {{item.assetTypeNormalized}}">
        <text>{{assetTypeIcons[item.assetTypeNormalized] || 'ğŸ“'}}</text>
      </view>

      <!-- å†…å®¹åŒºåŸŸ -->
      <view class="item-content">
        <text class="item-title">{{item.title}}</text>
        <view class="item-meta">
          <text class="item-type">{{item.assetTypeLabel}}</text>
          <text class="item-version" wx:if="{{item.version}}">v{{item.version}}</text>
        </view>
      </view>

      <!-- æ“ä½œåŒºåŸŸ -->
      <view class="item-actions">
        <view
          class="action-btn save"
          catchtap="saveCheatSheet"
          data-index="{{index}}"
          wx:if="{{item.assetTypeNormalized === 'image'}}"
        >
          <text>ä¿å­˜</text>
        </view>
        <view class="action-btn preview">
          <text>æŸ¥çœ‹</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && cheatSheets.length === 0}}">
    <view class="empty-icon">ğŸ“¦</view>
    <text class="empty-text">æš‚æ— æ€¥æ•‘åŒ…èµ„æº</text>
    <button class="back-btn" bindtap="goBack">è¿”å›è¯¾ç¨‹</button>
  </view>

  <!-- åº•éƒ¨æç¤º -->
  <view class="footer-tip" wx:if="{{!loading && cheatSheets.length > 0}}">
    <text>é•¿æŒ‰å›¾ç‰‡å¯ä¿å­˜åˆ°ç›¸å†Œ</text>
  </view>
</view>
